<h1>Desafio Resultados Digitais - Tracking Server</h1>

<br />

<div id="tracks"></div>

<script>
  function test() {
    var onRequestComplete = function() {
      var COMPLETE = 4
      var OK = 200;

      if (this.readyState === COMPLETE && this.status == OK) {
        console.log('From server -> ', this.response)
        let tracks = JSON.parse(this.response)
        console.log('tracks', tracks)
        tracks.forEach((track) => {
          let divTrack = document.createElement('div')
          divTracks.appendChild(divTrack)
        })
      }
    };

    httpRequest = new XMLHttpRequest();
    httpRequest.onreadystatechange = onRequestComplete;
    httpRequest.open('GET', '/cookies', true);
    httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
    httpRequest.withCredentials = true;
    httpRequest.send();
  }
  test()
</script>